!function(o){var a={};function e(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return o[t].call(n.exports,n,n.exports,e),n.l=!0,n.exports}e.m=o,e.c=a,e.d=function(o,a,t){e.o(o,a)||Object.defineProperty(o,a,{enumerable:!0,get:t})},e.r=function(o){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},e.t=function(o,a){if(1&a&&(o=e(o)),8&a)return o;if(4&a&&"object"==typeof o&&o&&o.__esModule)return o;var t=Object.create(null);if(e.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:o}),2&a&&"string"!=typeof o)for(var n in o)e.d(t,n,function(a){return o[a]}.bind(null,n));return t},e.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return e.d(a,"a",a),a},e.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},e.p="/",e(e.s=3)}([,,,function(o,a,e){e(4),e(5),e(6),e(7),e(8),e(9),e(10),e(11),e(12),e(13),e(14),e(15),e(16),e(17),o.exports=e(18)},function(o,a){angular.module("baseApp",["ngSanitize","ui.tinymce"],["$httpProvider",function(o){}])},function(o,a){angular.module("baseApp").controller("FinanceiroFluxoController",["$scope","$http","$httpParamSerializer",function(o,a,e){o.dados=[],o.init=function(a){var e={};o.dados=JSON.parse(a),angular.forEach(o.dados,function(a,t){e=a.header.meses_nome,angular.forEach(a.body,function(a){var n="#chart_"+t+"_"+a.id,r=a.entrada.valores,i=a.saida.valores;o.sparklineChart(n,e,r,i)})})},o.sparklineChart=function(o,a,e,t){var n={chart:{group:"sparklines",type:"line",height:100,sparkline:{enabled:!0}},layout:{padding:{top:10,bottom:10}},stroke:{curve:"smooth",width:2},fill:{opacity:1},series:[{name:"Entradas",data:e},{name:"Saídas",data:t}],labels:a,xaxis:{type:"category"},yaxis:{min:0},colors:["#38a169","#e53e3e"]};new ApexCharts(document.querySelector(o),n).render()}}])},function(o,a){angular.module("baseApp").controller("FinanceiroMovimentacaoController",["$scope","$http","$timeout","$httpParamSerializer",function(o,a,e,t){o.movimento={dados:[],total:{debito:"",credito:"",saldo:""}},o.filtro_options=[],o.filtro={},o.carregando_dados=!0,o.show_totais=!1,o.init=function(a){a=JSON.parse(a),o.route_financeiro_movimentacao_json=a.route_financeiro_movimentacao_json,o.filtro_options=a.filtro_options,o.filtro=a.filtro,""==o.filtro.periodo_selecionado&&o.selecionaPeriodo("hoje"),o.carregaDadosMovimentacao()},o.pagamentoMultiplo=function(o){0===$(".checkboxContainerArea input:checkbox:checked").length?alert("Marque ao menos um lançamento para prosseguir."):$.ajax({url:o,dataType:"html",success:function(o){$("#modal_geral").modal("show"),$("#modal_geral").find(".modal-body").html(o),$(".datepicker").datepicker()}})},o.buttonListarItensLote=function(o){$.ajax({url:o,dataType:"html",success:function(o){$("#modal_full").modal("show"),$("#modal_full").find(".modal-body").html(o)}})},$("body").on("change","#pagamentoCheckboxAll",function(){$(".checkboxContainerArea input:checkbox").prop("checked",$(this).prop("checked"))}),$("body").on("submit","#formUpdatePagamento",function(o){o.preventDefault();var a=$(".checkboxContainerArea input:checkbox:checked"),e=[];$(a).each(function(o,a){e[o]=a.value}),$.ajax({url:$(this).prop("action"),type:"POST",data:{pagamento:$("input[name=pagamento]",this).val(),itens:e},success:function(o){location.reload()}})}),o.carregaDadosMovimentacao=function(){o.carregando_dados=!0,a({method:"POST",url:o.route_financeiro_movimentacao_json,data:"filtro_json="+angular.toJson(o.filtro),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(a){o.carregando_dados=!1,o.movimento=a.data},function(a){o.carregando_dados=!1,console.log(a)})},o.selecionaPeriodo=function(a){var e="DD-MM-YYYY";switch(o.filtro.periodo_selecionado=a,a){case"hoje":o.filtro.data_inicial=moment().format(e),o.filtro.data_final=moment().format(e),o.filtro.show_dropdown_periodo=!0;break;case"semana":o.filtro.data_inicial=moment().startOf("week").format(e),o.filtro.data_final=moment().endOf("week").format(e),o.filtro.show_dropdown_periodo=!0;break;case"mes":o.filtro.data_inicial=moment().startOf("month").format(e),o.filtro.data_final=moment().endOf("month").format(e),o.filtro.show_dropdown_periodo=!0;break;case"15dias":o.filtro.data_inicial=moment().subtract(15,"days").format(e),o.filtro.data_final=moment().format(e),o.filtro.show_dropdown_periodo=!0;break;case"30dias":o.filtro.data_inicial=moment().subtract(30,"days").format(e),o.filtro.data_final=moment().format(e),o.filtro.show_dropdown_periodo=!0;break;case"input_periodo":o.filtro.show_dropdown_periodo=!1;break;case"periodo":o.filtro.show_dropdown_periodo=!0;break;case"todos":o.filtro.data_inicial="",o.filtro.data_final="",o.filtro.show_dropdown_periodo=!0}"todos"==o.filtro.periodo_selecionado?o.filtro.texto_periodo="Mostrar todos":(""!=o.filtro.data_inicial&&""!=o.filtro.data_final||o.selecionaPeriodo("hoje"),o.filtro.texto_periodo=moment(o.filtro.data_inicial,"DD-MM-YYYY").format("DD/MM/YYYY")+" - "+moment(o.filtro.data_final,"DD-MM-YYYY").format("DD/MM/YYYY"))},o.submitFiltroMovimentacao=function(){o.filtro.fornecedor_id=$("#fornecedor_id").val(),o.carregaDadosMovimentacao()},o.toggleTotais=function(){o.show_totais=!o.show_totais,console.log(o.show_totais)},$("body").on("keyup","#js-filter-lote-profissional",function(){var o,a,e,t;for(o=document.getElementById("js-filter-lote-profissional").value.toLowerCase(),a=document.getElementById("js-filter-lote-profissional_id").getElementsByTagName("tr"),t=0;t<a.length;t++)(e=a[t].getElementsByTagName("td")[8])&&(e.innerHTML.toLowerCase().indexOf(o)>-1?a[t].style.display="":a[t].style.display="none")})}])},function(o,a){angular.module("baseApp").controller("FinanceiroPacienteController",["$scope","$http","$httpParamSerializer",function(o,a,e){o.REAL=function(o){return currency(o,{symbol:"",decimal:",",separator:"."})},o.ids_lancamentos=[],o.total=0,o.total_desconto_taxa=0,o.total_juros_multa=0,o.total_pago=0,o.show_totais=!1,o.gerarEntrada=function(){o.ids_lancamentos=[],o.total=0,o.total_desconto_taxa=0,o.total_juros_multa=0,o.total_pago=0;var a=$(".checkboxContainerArea input:checkbox:checked");0===a.length?alert("Marque ao menos um lançamento para prosseguir."):($("#modal_gerar_entrada").modal("show"),$(a).each(function(a,e){o.ids_lancamentos.push(e.dataset.id),o.total=o.total+o.REAL(e.dataset.valor).value,o.total_desconto_taxa=o.total_desconto_taxa+o.REAL(e.dataset.desconto_taxa).value,o.total_juros_multa=o.total_juros_multa+o.REAL(e.dataset.juros_multa).value,o.total_pago=o.total_pago+o.REAL(e.dataset.valor_pago).value}),o.total_pago=o.total+o.total_juros_multa-o.total_desconto_taxa,o.total=o.REAL(o.total).format(),o.total_desconto_taxa=o.REAL(o.total_desconto_taxa).format(),o.total_juros_multa=o.REAL(o.total_juros_multa).format(),o.total_pago=o.REAL(o.total_pago).format(),o.tipo_lancamento="lote")},$("body").on("change","#entradaCheckboxAll",function(){$(".checkboxContainerArea input:checkbox").prop("checked",$(this).prop("checked"))}),$("body").on("submit","#formFinanceiroGerarEntrada",function(a){var t;a.preventDefault(),$("#lote_valor").val(o.total),$("#lote_desconto_taxa").val(o.total_desconto_taxa),$("#lote_juros_multa").val(o.total_juros_multa),$("#lote_valor_pago").val(o.total_pago),t=e({"ids_lancamentos[]":o.ids_lancamentos}),$.ajax({url:$(this).prop("action"),type:"POST",data:$("#formFinanceiroGerarEntrada").serialize()+"&"+t,success:function(o){location.reload()}})}),o.fecharCaixa=function(){confirm("O caixa do dia será fechado. Deseja confirmar?")},o.toggleTotais=function(){o.show_totais=!o.show_totais,console.log(o.show_totais)}}])},function(o,a){angular.module("baseApp").controller("GuiaPacienteController",["$scope","$http","$timeout",function(o,a,e){o.message_sending="",o.message_sending_success="",o.message_sending_fail="",o.display={cabecalho:!0,rg:!0,cpf:!0,endereco:!0,cidade:!0,telefones:!0,datanascimento:!0,carteirinha:!0,tratamento:!0,iniciotratamento:!0,tipo:!0,medico:!0,profissional:!0,convenio:!0,datalesao:!0,datacirurgia:!0,lesao:!0,membro:!0,numerosessoes:!0,agenda:!0,sessoes:!0,datasessao:!0,horasessao:!0,situacao:!0,assinatura:!0,declaracao:!1},e(function(){$("#enable_alert_container").removeClass("hidden")},1e3),o.sendEmailGuiaPaciente=function(e){o.message_sending="",o.message_sending_success="",o.message_sending_fail="",o.display.declaracao?o.message_sending_fail='O envio de Declarações por e-mail não está disponível. Desmarque a opção "Declaração" para enviar a guia.':(o.message_sending="Enviando e-mail, por favor aguarde...",a({method:"POST",url:e,data:"display="+angular.toJson(o.display),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(a){o.message_sending="",o.message_sending_success=a.data.message},function(a){o.message_sending="",o.message_sending_fail=response.data.message}))}}])},function(o,a){angular.module("baseApp").controller("GuiaEmpresaController",["$scope",function(o){o.display={cabecalho:!0,rg:!0,telefones:!0,tratamento:!0,iniciotratamento:!0,tipo:!0,profissional:!0,lesao:!0,numerosessoes:!0,agenda:!0,sessoes:!0,datasessao:!0,horasessao:!0,situacao:!0,assinatura:!0,declaracao:!1}}])},function(o,a){angular.module("baseApp").controller("LaudoController",["$scope",function(o){o.display={rg:!0,tratamento:!0,iniciotratamento:!0,tipo:!0,medico:!0,profissional:!0,datalesao:!0,datacirurgia:!0,lesao:!0,membro:!0,usoinformacoes:!0}}])},function(o,a){angular.module("baseApp").controller("ProntuarioFormCreateController",["$scope","$sce","$http",function(o,a,e){o.editando=!1,o.tinymceHtml="",o.route_store="",o.route_gabaritos="",o.index_gabarito_selecionado="",o.lista_gabaritos=[],o.$on("copiouProntuario",function(a,e){o.editando?o.tinymceHtml=e:alert('Clique em "Escrever" antes de selecionar a evolução')}),o.escrever=function(a,e){o.route_store=a,o.route_gabaritos=e,o.carregarGabaritos()},o.carregarGabaritos=function(){e({method:"GET",url:o.route_gabaritos,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(a){var e=[];angular.forEach(a.data,function(o,a){o=angular.fromJson(o),e.push(o)}),o.lista_gabaritos=e,o.editando=!0,$(".painel-form-prontuario").find(".datepicker").datepicker(),$(".painel-form-prontuario").find(".panel-heading").css("background","#E8F7D0"),$(".painel-form-prontuario").find(".panel-body").css("background","#E8F7D0"),$("#escrevendo_prontuario").removeClass("hidden")},function(o){console.log(o.data)})},o.aplicarGabarito=function(){var a;a=o.lista_gabaritos[o.index_gabarito_selecionado],o.tinymceHtml=a.conteudo},o.tinymceOptions={theme:"modern",menubar:!1,toolbar:"bold italic | alignleft aligncenter alignright alignjustify",height:400}}])},function(o,a){angular.module("baseApp").controller("ProntuarioFormEditController",["$scope","$sce","$http","$timeout",function(o,a,e,t){var n;o.tinymceHtml="",o.tinymceOptions={theme:"modern",menubar:!1,plugins:"",toolbar:"bold italic | alignleft aligncenter alignright alignjustify",height:400},n=$("#data_conteudo").html(),t(function(){$("#data_conteudo").hide(),o.tinymceHtml=n},500)}])},function(o,a){angular.module("baseApp").controller("ProntuarioListagemPainelController",["$rootScope","$scope","$http",function(o,a,e){a.carregarHtmlEvolucao=function(a){e({method:"GET",url:a,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(a){o.$broadcast("copiouProntuario",a.data)},function(o){console.log(o.data)})},$("body").on("hidden.bs.modal","#modal_prontuario",function(){$(this).removeData("bs.modal")}),$(".listagem_prontuario, .listagem_complexidade").animate({scrollTop:$(".listagem_prontuario").prop("scrollHeight")},400)}])},function(o,a){angular.module("baseApp").controller("ListRecursos",["$scope","$http","$compile","$timeout",function(o,a,e,t){o.REAL=function(o){return currency(o,{symbol:"",decimal:",",separator:"."})},o.geralOpen=!1,o.secundarioOpen=!1,o.targetSeletor="",o.linkTableRow=function(o){window.location.href=o},o.buttonDuplicate=function(a){return confirm("Confirma geração de cópia deste registro?")&&o.openModalForm(a),!1},o.openModalForm=function(a,e){return o.targetSeletor=e,o.geralOpen?o.secundarioOpen?void 0:(o.secundarioOpen=!0,void o.modalSecundario(a)):(o.geralOpen=!0,void o.modalGeral(a))},o.modalGeral=function(n){a({url:n,method:"GET"}).then(function(a){o.form=e(a.data)(o),$("#modal_geral").find(".modal-body").html(o.form),$("#modal_geral").modal("show"),t(function(){o.carregaDadosFinanceiro()},1e3)},function(o){console.log(o)})},o.modalSecundario=function(t){a({url:t,method:"GET"}).then(function(a){o.form_secundario=e(a.data)(o),$("#modal_secundario").find(".modal-body").html(o.form_secundario),$("#modal_secundario").modal("show")},function(o){console.log(o)})},o.modalHelp=function(a){$("#modal_help").find(".modal-body").html(e(a)(o)),$("#modal_help").modal("show")},o.submitForm=function(e){var t;t=o.secundarioOpen?o.form_secundario.serialize():o.form.serialize(),a({url:e,method:"POST",data:t,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(a){if(a.data.model||window.location.reload(),o.targetSeletor)if($(o.targetSeletor).is("select"))$(o.targetSeletor).append($("<option>",{value:a.data.model.id,text:a.data.model.nome})),$(o.targetSeletor).find("option:last").attr("selected","selected");else switch(o.targetSeletor){case"#cidade_id":$("#cidade_id").val(a.data.model.id),$("#cidade").val(a.data.model.nome);break;case"#fornecedor_id":$("#fornecedor_id").val(a.data.model.id),$("#fornecedor").val(a.data.model.nome);break;case"#lesao_id":$("#lesao_id").val(a.data.model.id),$("#lesao").val(a.data.model.nome);break;case"#membro_id":$("#membro_id").val(a.data.model.id),$("#membro").val(a.data.model.nome);break;case"#medico_id":$("#medico_id").val(a.data.model.id),$("#medico").val(a.data.model.nome);break;case"#convenio_id":var e;if($("#convenio_id").val(a.data.model.id),$("#convenio").val(a.data.model.nome),$("#convenio").hasClass("trigger_dados_convenio"))$("#trt_valor_sessao").val(a.data.model.valor),e=o.REAL(a.data.model.valor).value*o.REAL($("#trt_sessoes").val()).value,e=o.REAL(e).format(),$("#trt_total").val(e)}else window.location.reload();o.secundarioOpen?(o.secundarioOpen=!1,$("#modal_secundario").modal("hide")):(o.geralOpen=!1,$("#modal_geral").modal("hide"))},function(o){alert(o.data.message)})},$("#modal_geral").on("hidden.bs.modal",function(a){t(function(){o.geralOpen=!1},1)}),$("#modal_secundario").on("hidden.bs.modal",function(a){t(function(){o.secundarioOpen=!1},1)}),o.carregaDadosFinanceiro=function(){var a;$("#dados_form_lancamento").length&&(a=$("#dados_form_lancamento").attr("data-values"),(a=angular.fromJson(a)).id?o.fin=a:o.fin={pagamento:"",valor:"0,00",desconto_taxa:"0,00",juros_multa:"0,00",valor_pago:"0,00"})},o.calculaValorPago=function(){var a,e=o.REAL(o.fin.valor).value,t=o.REAL(o.fin.desconto_taxa).value,n=o.REAL(o.fin.juros_multa).value;if(t>e)return t=0,o.fin.desconto_taxa="0,00",void alert("Descontos/Taxas de ver ser menor ou igual ao Valor");a=e+n-t,o.fin.valor_pago=o.REAL(a).format()},o.calculaValor=function(){o.fin.desconto_taxa=0,o.fin.juros_multa=0;var a=0,e=0,t=o.REAL(o.fin.valor).value,n=o.REAL(o.fin.valor_pago).value;n>t?e=Math.abs(t-n):a=Math.abs(n-t),o.fin.valor=o.REAL(t).format(),o.fin.desconto_taxa=o.REAL(a).format(),o.fin.juros_multa=o.REAL(e).format()},o.resetPagamento=function(){""==$('input[name="pagamento"]').val()&&(o.fin.desconto_taxa="0,00",o.fin.juros_multa="0,00",o.fin.valor_pago=o.fin.valor)}}])},function(o,a){angular.module("baseApp").controller("ProtocolJebsenFormController",["$scope","$interval",function(o,a){o.tempo_total="00:00:00",o.counter_total=0,o.run_clock=null,$(".time_jebsen").mask("99:99:99"),o.clearInput=function(a){$("#"+a).val(""),o.stopTimer(),o.resetTimerTotal()},o.startTimer=function(e){null==o.run_clock?(o.resetTimerTotal(),o.run_clock=a(function(){var a=moment().hour(0).minute(0).second(o.counter_total++).format("HH:mm:ss");$("#"+e).val(a)},1e3)):o.stopTimer()},o.stopTimer=function(){a.cancel(o.run_clock),o.run_clock=null},o.resetTimerTotal=function(){o.counter_total=0},$(".btn_time_jebsen").on("click",function(o){var a=$(this);a.find("i.fa").hasClass("fa-play")?($(".btn_time_jebsen").not(a).attr("disabled",!0),$(".time_jebsen").attr("disabled",!0),$("#btn-submit-protocol").attr("disabled",!0)):($(".btn_time_jebsen").removeAttr("disabled"),$(".time_jebsen").removeAttr("disabled"),$("#btn-submit-protocol").removeAttr("disabled")),a.find("i.fa").toggleClass("fa-play").toggleClass("fa-stop").toggleClass("text-muted").toggleClass("text-primary")})}])},function(o,a){angular.module("baseApp").controller("ProtocolJebsenGridController",["$scope",function(o){o.init=function(a){o.testData=JSON.parse(a),angular.forEach(o.testData,function(a,e){o.makeChart(e,a)})},o.makeChart=function(o,a){var e={chart:{type:"bar",width:"100%",height:220,sparkline:{enabled:!1},toolbar:{show:!1}},colors:["#F56565","#4299E1"],stroke:{curve:"flat",width:2,colors:["#transparent"]},theme:{monochrome:{enabled:!0}},plotOptions:{bar:{columnWidth:"80%"}},series:[{name:"Direita (Col.1)",data:a.time_right},{name:"Esquerda (Col.2)",data:a.time_left}],labels:a.testdates,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(o,a){return moment.duration(parseInt(o),"seconds").asMinutes().toFixed(1)+" Min"},textAnchor:"middle",offsetX:0,offsetY:0,style:{fontSize:"12px",colors:["#070707"]},dropShadow:{enabled:!1}},legend:{position:"top"},xaxis:{crosshairs:{width:1},labels:{style:{fontSize:"12px"}}},yaxis:{labels:{show:!1}},tooltip:{fixed:{enabled:!1},x:{show:!0},y:{title:{formatter:function(o){return o}}},marker:{show:!1},noData:{text:"Sem dados para exibição",align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{fontSize:"12px"}}}};new ApexCharts(document.querySelector("#chart_jebsen_"+o),e).render()}}])},function(o,a){angular.module("baseApp").controller("TextosProntuarioFormController",["$scope","$sce","$http","$timeout",function(o,a,e,t){var n;o.tinymceHtml="",o.tinymceOptions={theme:"modern",menubar:!1,toolbar:"bold italic | alignleft aligncenter alignright alignjustify",height:400},t(function(){n=$("#data_conteudo").html(),console.log(n),$("#data_conteudo").hide(),o.tinymceHtml=n},500)}])},function(o,a){angular.module("baseApp").controller("ResultsController",["$scope","$http","$httpParamSerializer",function(o,a,e){o.data=[],o.init=function(a){o.data=JSON.parse(a),o.sparklineChart(o.data.title,o.data.labels,o.data.series)},o.sparklineChart=function(o,a,e){var t={chart:{type:"line",height:400},title:{text:o,align:"center",style:{fontSize:"16px",fontWeight:"bold"}},series:[{name:"Quantidade",data:e}],xaxis:{categories:a},layout:{padding:{top:10,bottom:20}},dataLabels:{enabled:!0,enabledOnSeries:[1],style:{fontSize:"14px"}},legend:{show:!0,showForSingleSeries:!0,position:"bottom",horizontalAlign:"center"},stroke:{curve:"smooth",width:3},markers:{size:5},colors:["#c53030"]};new ApexCharts(document.querySelector("#results_chart"),t).render()}}])}]);